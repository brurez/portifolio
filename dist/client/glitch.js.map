{"version":3,"sources":["../../src/client/glitch.js"],"names":["el","c","document","querySelector","ctx","getContext","height","window","innerHeight","width","innerWidth","chinese","split","font_size","columns","drops","x","draw","fillStyle","fillRect","font","i","length","text","Math","floor","random","fillText","setInterval"],"mappings":";;;;;;kBAAeA,MAAM;AACnB,MAAIC,IAAIC,SAASC,aAAT,CAAuBH,EAAvB,CAAR;AACA,MAAII,MAAMH,EAAEI,UAAF,CAAa,IAAb,CAAV;;AAEF;AACEJ,IAAEK,MAAF,GAAWC,OAAOC,WAAlB;AACAP,IAAEQ,KAAF,GAAUF,OAAOG,UAAjB;;AAEF;AACE,MAAIC,UAAU,oCAAd;AACF;AACEA,YAAUA,QAAQC,KAAR,CAAc,EAAd,CAAV;;AAEA,MAAIC,YAAY,EAAhB;AACA,MAAIC,UAAUb,EAAEQ,KAAF,GAAQI,SAAtB,CAdmB,CAcc;AACnC;AACE,MAAIE,QAAQ,EAAZ;AACF;AACA;AACE,OAAI,IAAIC,IAAI,CAAZ,EAAeA,IAAIF,OAAnB,EAA4BE,GAA5B,EACED,MAAMC,CAAN,IAAW,CAAX;;AAEJ;AACE,WAASC,IAAT,GACA;AACE;AACA;AACAb,QAAIc,SAAJ,GAAgB,qBAAhB;AACAd,QAAIe,QAAJ,CAAa,CAAb,EAAgB,CAAhB,EAAmBlB,EAAEQ,KAArB,EAA4BR,EAAEK,MAA9B;;AAEAF,QAAIc,SAAJ,GAAgB,SAAhB,CANF,CAM6B;AAC3Bd,QAAIgB,IAAJ,GAAWP,YAAY,YAAvB;AACA;AACA,SAAI,IAAIQ,IAAI,CAAZ,EAAeA,IAAIN,MAAMO,MAAzB,EAAiCD,GAAjC,EACA;AACE;AACA,UAAIE,OAAOZ,QAAQa,KAAKC,KAAL,CAAWD,KAAKE,MAAL,KAAcf,QAAQW,MAAjC,CAAR,CAAX;AACA;AACAlB,UAAIuB,QAAJ,CAAaJ,IAAb,EAAmBF,IAAER,SAArB,EAAgCE,MAAMM,CAAN,IAASR,SAAzC;;AAEA;AACA;AACA,UAAGE,MAAMM,CAAN,IAASR,SAAT,GAAqBZ,EAAEK,MAAvB,IAAiCkB,KAAKE,MAAL,KAAgB,KAApD,EACEX,MAAMM,CAAN,IAAW,CAAX;;AAEF;AACAN,YAAMM,CAAN;AACD;AACF;;AAEDO,cAAYX,IAAZ,EAAkB,EAAlB;AACD,C","file":"glitch.js","sourcesContent":["export default el => {\r\n  var c = document.querySelector(el);\r\n  var ctx = c.getContext(\"2d\");\r\n\r\n//making the canvas full screen\r\n  c.height = window.innerHeight;\r\n  c.width = window.innerWidth;\r\n\r\n//chinese characters - taken from the unicode charset\r\n  var chinese = \"田由甲申甴电甶男甸甹町画甼甽甾甿畀畁畂畃畄畅畆畇畈畉畊畋界畍畎畏畐畑\";\r\n//converting the string into an array of single characters\r\n  chinese = chinese.split(\"\");\r\n\r\n  var font_size = 80;\r\n  var columns = c.width/font_size; //number of columns for the rain\r\n//an array of drops - one per column\r\n  var drops = [];\r\n//x below is the x coordinate\r\n//1 = y co-ordinate of the drop(same for every drop initially)\r\n  for(var x = 0; x < columns; x++)\r\n    drops[x] = 1;\r\n\r\n//drawing the characters\r\n  function draw()\r\n  {\r\n    //Black BG for the canvas\r\n    //translucent BG to show trail\r\n    ctx.fillStyle = \"rgba(0, 0, 0, 0.05)\";\r\n    ctx.fillRect(0, 0, c.width, c.height);\r\n\r\n    ctx.fillStyle = \"#ffffff\"; //green text\r\n    ctx.font = font_size + \"px consola\";\r\n    //looping over drops\r\n    for(var i = 0; i < drops.length; i++)\r\n    {\r\n      //a random chinese character to print\r\n      var text = chinese[Math.floor(Math.random()*chinese.length)];\r\n      //x = i*font_size, y = value of drops[i]*font_size\r\n      ctx.fillText(text, i*font_size, drops[i]*font_size);\r\n\r\n      //sending the drop back to the top randomly after it has crossed the screen\r\n      //adding a randomness to the reset to make the drops scattered on the Y axis\r\n      if(drops[i]*font_size > c.height && Math.random() > 0.975)\r\n        drops[i] = 0;\r\n\r\n      //incrementing Y coordinate\r\n      drops[i]++;\r\n    }\r\n  }\r\n\r\n  setInterval(draw, 33);\r\n}"]}